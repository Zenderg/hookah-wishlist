# ============================================
# HOOKAH WISHLIST - ENVIRONMENT VARIABLES
# ============================================
# This file contains all environment variables needed for production deployment.
# Copy this file to .env and fill in the actual values for your deployment.
#
# IMPORTANT: For production deployment on Coolify or similar platforms,
# these variables should be set in the platform's environment configuration,
# not in a local .env file.
# ============================================

# ============================================
# BACKEND SUBPROJECT ENVIRONMENT VARIABLES
# ============================================

# Telegram Bot Configuration (Backend)
# Get your bot token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Telegram Webhook URL
# Must match your production domain with /webhook path
# Example: https://your-app.coolify.domain.org/webhook
TELEGRAM_WEBHOOK_URL=https://your-domain.com/webhook

# Server Configuration (Backend)
PORT=3000
NODE_ENV=production

# Logger Configuration (Backend)
# Log level: 'error', 'warn', 'info', 'debug', 'silly'
# Use 'debug' for detailed authentication troubleshooting
# Use 'info' for production (default)
LOG_LEVEL=debug

# hookah-db API Configuration (Backend)
# API URL for the hookah database service
HOOKEH_DB_API_URL=https://hdb.coolify.dknas.org

# API key for hookah-db API authentication
# Required for all API requests to hookah-db
HOOKEH_DB_API_KEY=your_hookah_db_api_key_here

# API rate limit (requests per minute)
API_RATE_LIMIT=100

# Storage Configuration (Backend)
# Storage type: 'sqlite' (recommended) or 'file'
STORAGE_TYPE=sqlite

# Database path for SQLite storage
# In production, this should be /app/data/wishlist.db (Docker volume)
DATABASE_PATH=/app/data/wishlist.db

# Storage path for file-based storage (if using file storage)
STORAGE_PATH=/app/data

# ============================================
# FRONTEND SUBPROJECT ENVIRONMENT VARIABLES
# ============================================

# Mini-App URL (Backend CORS Configuration)
# This is the URL where your mini-app will be accessible
# Backend CORS will only allow requests from this origin
# Example: https://your-app.coolify.domain.org/mini-app
MINI_APP_URL=https://your-domain.com/mini-app

# ============================================
# DOCKER COMPOSE ENVIRONMENT VARIABLES
# ============================================

# Frontend API URL (Build-time variable for Vite)
# This is the base URL that the frontend will use to make API requests
# In production, this should be your production domain with /api/v1 path
# Example: https://your-app.coolify.domain.org/api/v1
# IMPORTANT: This is a build-time variable, so changes require rebuilding the frontend container
API_URL=https://your-domain.com/api/v1

# ============================================
# NOTES
# ============================================
# - Backend and mini-app are completely independent subprojects
# - Each subproject has its own package.json and dependencies
# - Environment variables are shared via Docker Compose for production
# - For local development, you may need to set these in each subproject's .env file
# - VITE_API_URL is a build-time variable (Vite convention), requires rebuild
# - See README.md for detailed setup instructions
# - See docs/DOCKER_COMPOSE_TESTING.md for deployment verification
# ============================================
